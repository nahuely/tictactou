(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,n,t){e.exports=t(37)},,,,,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(5),i=t.n(o),c=t(9),u=t(2),l=t(1),s=t(6),m=t(7),v=t(10),f=t(8),d=t(11),h=(t(17),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"TIC ",r.a.createElement("span",{className:"header__title--red"},"TAC")," TOU"))}),g=(t(19),function(){return r.a.createElement("footer",{className:"footer"},"made with\xa0",r.a.createElement("i",{className:"icon ion-md-heart-empty"}),"\xa0by\xa0",r.a.createElement("span",null,"unknown"))}),b=t(3),p=(t(21),function(e){var n=e.onClick,t=e.position,a=e.value,o=e.winning;return r.a.createElement("div",{onClick:function(){return n(t,a)},position:t,className:"item".concat(o?" item--winning":"")},a)});p.defaultProps={onClick:function(){},value:null};var w=p,E=(t(23),function(e){var n=e.onClick,t=e.board,a=e.winningPosition;return r.a.createElement("div",{className:"board"},function(e){return Object.entries(e).map(function(e){var t=Object(b.a)(e,2),o=t[0],i=t[1],c=!1;return a&&(c=a.includes(parseInt(o,10))),r.a.createElement(w,{key:o,onClick:n,position:o,value:i,winning:c})})}(t))}),k=(t(25),function(e){var n=e.min,t=e.max,a=e.value,o=e.onChange;return r.a.createElement("input",{type:"range",min:n,max:t,step:"1",defaultValue:a,onChange:function(e){return o(e.target.value)}})}),C=(t(27),function(e){var n=e.moves,t=e.onChange;return r.a.createElement("div",{className:"timeline"},r.a.createElement(k,{min:"0",max:n.length.toString(),value:n.length.toString(),onChange:t}))});C.defaultProps={onClick:function(){},value:""};var O=C,j=(t(29),function(e){var n=e.onClick,t=e.text;return r.a.createElement("button",{className:"button",onClick:n},t)});j.defaultProps={onClick:function(){},text:""};var P=j,_=(t(31),function(e){var n=e.onNewGame;return r.a.createElement("div",{className:"controls"},r.a.createElement(P,{onClick:function(){return n("human")},text:"HUMAN FIRST"}),r.a.createElement(P,{onClick:function(){return n("ai")},text:"AI FIRST"}))}),x=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],y=function(){return{0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,5:void 0,6:void 0,7:void 0,8:void 0}};var N=function(e){return function(e){var n,t,a;for(a=e.length-1;a>0;a--)n=Math.floor(Math.random()*(a+1)),t=e[a],e[a]=e[n],e[n]=t;return e}(R(e,void 0))},R=function(e,n){return Object.entries(e).reduce(function(e,t){var a=Object(b.a)(t,2),r=a[0];return a[1]===n&&e.push(parseInt(r,10)),e},[])},I=function(e){return Object.entries(e).every(function(e){var n=Object(b.a)(e,2);n[0];return void 0!==n[1]})},M=function(e){var n=-1,t=!0,a=!1,r=void 0;try{for(var o,i=x.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var c=o.value,u=Object(b.a)(c,2),l=u[0];if(u[1].every(function(n){return e.includes(n)})){n=l;break}}}catch(s){a=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}return n},S=function e(n,t,a,r){var o=function(e,n){var t=R(e,n);return M(t)>-1?"x"===n?10:-10:0}(n,t?"o":"x"),i=N(n);if(o)return{score:o};if(0===i.length&&!o)return{score:0};if(t){for(var c={score:-1/0,move:null},s=0;s<i.length;s++){var m=i[s],v=e(Object(l.a)({},n,Object(u.a)({},m,"x")),!1,a,r);if(v.score>c.score&&(c.score=v.score,c.move=m),r<=(a=Math.max(a,v.score)))break}return c}for(var f={score:1/0,move:null},d=0;d<i.length;d++){var h=i[d],g=e(Object(l.a)({},n,Object(u.a)({},h,"o")),!0,a,r);if(g.score<f.score&&(f.score=g.score,f.move=h),(r=Math.min(r,g.score))<=a)break}return f},T=Object.freeze({x:"x",o:"o"}),A=Object.freeze({human:"human",ai:"ai"}),G=Object.freeze({x:"x",o:"o",draw:"draw"}),U=(t(33),function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(v.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={board:y(),gameResult:null,turn:A.human,moves:[],winningPosition:null,currentPreviewPosition:null},t.getAIMove=function(e){return S(Object(l.a)({},e),!1,-1/0,1/0)},t.toggleTurn=function(e){return e===A.ai?A.human:A.ai},t.onChangeTimeline=function(e){var n=t.state.moves.slice(0,e),a=y();n.forEach(function(e){a[e.position]=e.symbol}),t.setState({board:a,currentPreviewPosition:e})},t.newGame=function(e){t.setState({board:y(),turn:e,moves:[],gameResult:null,winningPosition:null,currentPreviewPosition:null})},t.makeMove=function(e,n){var a=t.state,r=a.moves;if(!a.gameResult)if(void 0!==e){var o=n===A.ai?T.o:T.x,i=Object(l.a)({},t.state.board,Object(u.a)({},e,o)),s=R(i,o),m=M(s),v=I(i),f={board:i,turn:t.toggleTurn(n),moves:Object(c.a)(r).concat([{position:e,symbol:o}])};m>-1?(f.gameResult=G[o],f.winningPosition=x[m]):v&&(f.gameResult=G.draw),t.setState(f)}else t.setState({gameResult:G.draw})},t.getGameResultString=function(){var e=t.state.gameResult,n=null;return e===G.x||e===G.o?n="The winner is ".concat(e.toUpperCase()," \ud83c\udf89"):e===G.draw&&(n="The game was a TIE \ud83d\udc3b"),n},t.onCellClick=function(e,n){var a=t.state,r=a.turn,o=a.gameResult;n||o||t.makeMove(parseInt(e,10),r)},t.shouldShowWinningPosition=function(){var e=t.state,n=e.winningPosition,a=e.currentPreviewPosition,r=e.moves;return n?a&&parseInt(a,10)===r.length?n:a?null:n:n},t}return Object(d.a)(n,e),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this.state,n=e.turn,t=e.gameResult;if(n===A.ai&&!t){var a=this.getAIMove(Object(l.a)({},this.state.board));this.makeMove(a.move,n)}}},{key:"componentDidUpdate",value:function(){var e=this.state,n=e.turn,t=e.gameResult;if(n===A.ai&&!t){var a=this.getAIMove(Object(l.a)({},this.state.board));this.makeMove(a.move,n)}}},{key:"render",value:function(){var e=this.state,n=e.board,t=e.gameResult,a=e.moves,o=e.currentPreviewPosition;return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"app__header"},r.a.createElement(h,null)),r.a.createElement("main",{className:"app__content"},r.a.createElement("div",{className:"app__content__game"},r.a.createElement(E,{onClick:this.onCellClick,board:n,winningPosition:this.shouldShowWinningPosition()}),t?r.a.createElement(O,{moves:a,onChange:this.onChangeTimeline,value:o}):null,r.a.createElement("div",{className:"app__content__game__result"},r.a.createElement("p",null,this.getGameResultString())),r.a.createElement(_,{onNewGame:this.newGame}))),r.a.createElement("footer",{className:"app__footer"},r.a.createElement(g,null)))}}]),n}(a.Component));t(35);i.a.render(r.a.createElement(U,null),document.getElementById("root"))}],[[12,2,1]]]);
//# sourceMappingURL=main.c68c5c1e.chunk.js.map