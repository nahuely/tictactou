(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,n,t){e.exports=t(41)},,,,,,,,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(6),i=t.n(o),c=t(10),u=t(2),l=t(1),s=t(7),m=t(8),v=t(11),f=t(9),d=t(12),g=t(3),h=t.n(g),p=(t(21),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"TIC ",r.a.createElement("span",{className:"header__title--red"},"TAC")," TOE"))}),b=(t(23),function(){return r.a.createElement("footer",{className:"footer"},"made with\xa0",r.a.createElement("i",{className:"icon ion-md-heart-empty"}),"\xa0by\xa0",r.a.createElement("span",null,"unknown"))}),w=t(4),E=(t(25),function(e){var n=e.onClick,t=e.position,a=e.value,o=e.winning;return r.a.createElement("div",{onClick:function(){return n(t,a)},position:t,className:"item".concat(o?" item--winning":"")},a)});E.defaultProps={onClick:function(){},value:null};var k=E,C=(t(27),function(e){var n=e.onClick,t=e.board,a=e.winningPosition;return r.a.createElement("div",{className:"board"},function(e){return Object.entries(e).map(function(e){var t=Object(w.a)(e,2),o=t[0],i=t[1],c=!1;return a&&(c=a.includes(parseInt(o,10))),r.a.createElement(k,{key:o,onClick:n,position:o,value:i,winning:c})})}(t))}),O=(t(29),function(e){var n=e.min,t=e.max,a=e.value,o=e.onChange;return r.a.createElement("input",{type:"range",min:n,max:t,step:"1",defaultValue:a,onChange:function(e){return o(e.target.value)}})}),j=(t(31),function(e){var n=e.moves,t=e.onChange;return r.a.createElement("div",{className:"timeline"},r.a.createElement(O,{min:"0",max:n.length.toString(),value:n.length.toString(),onChange:t}),r.a.createElement("p",{className:"timeline__explanation"},"<slide to review moves>"))});j.defaultProps={onClick:function(){},value:""};var _=j,x=(t(33),function(e){var n=e.onClick,t=e.text;return r.a.createElement("button",{className:"button",onClick:n},t)});x.defaultProps={onClick:function(){},text:""};var y=x,P=(t(35),function(e){var n=e.onNewGame;return r.a.createElement("div",{className:"controls"},r.a.createElement(y,{onClick:function(){return n("human")},text:"HUMAN FIRST"}),r.a.createElement(y,{onClick:function(){return n("ai")},text:"AI FIRST"}))}),N=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],R=function(){return{0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,5:void 0,6:void 0,7:void 0,8:void 0}};var I=function(e){return function(e){var n,t,a;for(a=e.length-1;a>0;a--)n=Math.floor(Math.random()*(a+1)),t=e[a],e[a]=e[n],e[n]=t;return e}(M(e,void 0))},M=function(e,n){return Object.entries(e).reduce(function(e,t){var a=Object(w.a)(t,2),r=a[0];return a[1]===n&&e.push(parseInt(r,10)),e},[])},S=function(e){return Object.entries(e).every(function(e){var n=Object(w.a)(e,2);n[0];return void 0!==n[1]})},T=function(e){var n=-1,t=!0,a=!1,r=void 0;try{for(var o,i=N.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var c=o.value,u=Object(w.a)(c,2),l=u[0];if(u[1].every(function(n){return e.includes(n)})){n=l;break}}}catch(s){a=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}return n},A=function e(n,t,a,r){var o=function(e,n){var t=M(e,n);return T(t)>-1?"x"===n?10:-10:0}(n,t?"o":"x"),i=I(n);if(o)return{score:o};if(0===i.length&&!o)return{score:0};if(t){for(var c={score:-1/0,move:null},s=0;s<i.length;s++){var m=i[s],v=e(Object(l.a)({},n,Object(u.a)({},m,"x")),!1,a,r);if(v.score>c.score&&(c.score=v.score,c.move=m),r<=(a=Math.max(a,v.score)))break}return c}for(var f={score:1/0,move:null},d=0;d<i.length;d++){var g=i[d],h=e(Object(l.a)({},n,Object(u.a)({},g,"o")),!0,a,r);if(h.score<f.score&&(f.score=h.score,f.move=g),(r=Math.min(r,h.score))<=a)break}return f},G=Object.freeze({x:"x",o:"o"}),z=Object.freeze({human:"human",ai:"ai"}),U=Object.freeze({x:"x",o:"o",draw:"draw"});t(37);h.a.initialize("UA-128606095-1");var D=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(v.a)(this,Object(f.a)(n).call(this,e))).state={board:R(),gameResult:null,turn:z.human,moves:[],winningPosition:null,currentPreviewPosition:null},t.getAIMove=function(e){return A(Object(l.a)({},e),!1,-1/0,1/0)},t.toggleTurn=function(e){return e===z.ai?z.human:z.ai},t.onChangeTimeline=function(e){var n=t.state.moves.slice(0,e),a=R();n.forEach(function(e){a[e.position]=e.symbol}),t.setState({board:a,currentPreviewPosition:e})},t.newGame=function(e){h.a.event({category:"game",action:"new game",value:e}),t.setState({board:R(),turn:e,moves:[],gameResult:null,winningPosition:null,currentPreviewPosition:null})},t.makeMove=function(e,n){var a=t.state,r=a.moves;if(!a.gameResult)if(void 0!==e){var o=n===z.ai?G.o:G.x,i=Object(l.a)({},t.state.board,Object(u.a)({},e,o)),s=M(i,o),m=T(s),v=S(i),f={board:i,turn:t.toggleTurn(n),moves:Object(c.a)(r).concat([{position:e,symbol:o}])};m>-1?(h.a.event({category:"game",action:"game finished",value:"x"===U[o]?2:1}),f.gameResult=U[o],f.winningPosition=N[m]):v&&(h.a.event({category:"game",action:"game finished",value:0}),f.gameResult=U.draw),t.setState(f)}else h.a.event({category:"game",action:"game finished",value:0}),t.setState({gameResult:U.draw})},t.getGameResultString=function(){var e=t.state.gameResult,n=null;return e===U.x||e===U.o?n="The winner is ".concat(e.toUpperCase()," \ud83c\udf89"):e===U.draw&&(n="The game was a TIE \ud83d\udc3b"),n},t.onCellClick=function(e,n){var a=t.state,r=a.turn,o=a.gameResult;n||o||t.makeMove(parseInt(e,10),r)},t.shouldShowWinningPosition=function(){var e=t.state,n=e.winningPosition,a=e.currentPreviewPosition,r=e.moves;return n?a&&parseInt(a,10)===r.length?n:a?null:n:n},h.a.pageview("/"),t}return Object(d.a)(n,e),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this.state,n=e.turn,t=e.gameResult;if(n===z.ai&&!t){var a=this.getAIMove(Object(l.a)({},this.state.board));this.makeMove(a.move,n)}}},{key:"componentDidUpdate",value:function(){var e=this.state,n=e.turn,t=e.gameResult;if(n===z.ai&&!t){var a=this.getAIMove(Object(l.a)({},this.state.board));this.makeMove(a.move,n)}}},{key:"render",value:function(){var e=this.state,n=e.board,t=e.gameResult,a=e.moves,o=e.currentPreviewPosition;return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"app__header"},r.a.createElement(p,null)),r.a.createElement("main",{className:"app__content"},r.a.createElement("div",{className:"app__content__game"},r.a.createElement(C,{onClick:this.onCellClick,board:n,winningPosition:this.shouldShowWinningPosition()}),t?r.a.createElement(_,{moves:a,onChange:this.onChangeTimeline,value:o}):null,r.a.createElement("div",{className:"app__content__game__result"},r.a.createElement("p",null,this.getGameResultString())),r.a.createElement(P,{onNewGame:this.newGame}))),r.a.createElement("footer",{className:"app__footer"},r.a.createElement(b,null)))}}]),n}(a.Component);t(39);i.a.render(r.a.createElement(D,null),document.getElementById("root"))}],[[13,2,1]]]);
//# sourceMappingURL=main.4ca5bb33.chunk.js.map